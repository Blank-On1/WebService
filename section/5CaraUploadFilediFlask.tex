\documentclass[12pt,a4paper]{article}
\usepackage[left=3.00cm, right=2.00cm, bottom=2.00cm, top=3.00cm]{geometry}
\linespread{1.5}
\begin{document}
\title{definisi Dekorator, Contoh Kode dan Fungsi}
\maketitle

\begin{itemize}

\item
NAMA KELOMPOK 4\\
Ajis Trigunawan			1164031\\
Alimu Dzul Ikroom		1164032\\
Muhammad Hanafi			1164092\\
Riki Karnovi			1164052\\
Yoga Sakti Hadi P		1164059\\

\end{itemize}

\section{Cara Upload File di Flask}

\subsection{Pengantar Flask}

Flask framework didasarkan pada Werkzeug, dan Jinja 2, dan intensitas yang baik. Kerangka ini tidak memiliki dependensi terpisah dari
Perpustakaan Standar Python. Labu tidak termasuk komponen yang membutuhkan pihak ketiga dukungan seperti memvalidasi formulir atau menyediakan sarana komunikasi antara aplikasi dan database. Namun, fitur tersebut dapat ditambahkan menggunakan ekstensi. Layanan yang ditawarkan oleh kerangka ini termasuk server HTTP built-in, dukungan untuk pengujian unit, dan Layanan web RESTful. Aplikasi dibangun menggunakan ini kerangka kerja adalah minitwit, flaskr, flask.pocoo.org dll.

\subsection{Cara Mengunggah File}


Di sini Kita bisa mengupload file atau gambar dalam framework flask seperti halnya framework lainya. Akan tetapi Flask membuat kita bisa dengan mudah mengupload gambar atau file hingga menampilkannya sesuai keinginan kita. Kita disini akan menggunakan werkzeug untuk mengupload file di flask. Werkzeug yang merupakan modul bawaan flask dapat menangani itu semua.

Penanganan upload file dalam Flask ada beberapa hal yang harus disiakpak. Diperlukan formulir HTML dengan atribut enctype yang disetel ke ‘multipart / form-data’, mengeposkan file ke URL. Penangan URL mengambil file dari request.files [] objek dan menyimpannya ke lokasi yang diinginkan.
Setiap file yang diunggah pertama-tama disimpan di lokasi sementara di server, sebelum benar-benar disimpan ke lokasi terakhirnya. Nama file tujuan dapat dikodekan atau dapat diperoleh dari properti nama file dari objek request.files [file]. Namun, disarankan untuk mendapatkan versi aman menggunakan fungsi secure filename ().

Anda dapat menentukan jalur folder upload default dan ukuran maksimum file yang diunggah dalam pengaturan konfigurasi objek Flask.
Menentukan jalur untuk folder unggah
\begin{verbatim}
app.config [‘UPLOAD_FOLDER’] 
\end{verbatim}
Menentukan ukuran maksimum file yo diunggah - dalam byte
\begin{verbatim}
app.config [‘MAX_CONTENT_PATH’] 
\end{verbatim}
Kode berikut memiliki aturan ‘/ unggah’ yang menampilkan ‘upload.html’ dari folder template, dan aturan URL ‘/ upload-file’ yang memanggil uploader () fungsi penanganan proses upload.

Kita dapat memproses file yang akan diupload dengan Flask dengan mudah. Sebelumnya pastikan jangan lupa untuk mengatur atribut enctype = "multipart/form-data" pada form HTML kita, jika tidak browser tidak akan mengirimkan file Anda sama sekali. File yang diunggah disimpan di memori atau di lokasi sementara di sistem file kita. Berikut ini contoh sederhana yang menunjukkan cara kerjanya:

‘Upload.html’ memiliki tombol pemilih file dan tombol kirim..
\begin{verbatim}
<html>
   <body>
   
      <form action = "http://localhost:5000/uploader" method = "POST" 
         enctype = "multipart/form-data">
         <input type = "file" name = "file" />
         <input type = "submit"/>
      </form>
      
   </body>
</html
\end{verbatim}
untuk routenya kita membuat parameter /upload dan menggunakan method get dan post seperti berikut ini:

\begin{verbatim}
from flask import request

@app.route('/upload', methods=['GET', 'POST'])
def upload_file():
    if request.method == 'POST':
        f = request.files['the_file']
        f.save('/var/www/uploads/uploaded_file.txt')
    ...
\end{verbatim}
Dan jika Anda ingin tahu bagaimana file itu diberi nama pada klien sebelum diunggah ke aplikasi Anda, Anda dapat mengakses atribut filename.
Klik Kirim setelah memilih file. Metode entri Formulir memanggil URL '/ uploadfile'. Pengunggah fungsi yang mendasarinya () melakukan operasi penyimpanan.

Penanganan upload file dalam Flask sangat mudah. Diperlukan formulir HTML dengan atribut enctype yang disetel ke ‘multipart / form-data’, mengeposkan file ke URL. Penangan URL menjemput file dari request.files [] objek dan menyimpannya ke lokasi yang diinginkan.
	Setiap file yang diunggah pertama-tama disimpan di lokasi sementara di server, sebelum benar-benar disimpan ke lokasi terakhirnya. Nama file tujuan dapat dikodekan atau dapat diperoleh dari properti nama file dari objek request.files [file]. Namun, disarankan untuk mendapatkan versi aman menggunakan fungsi secure filename ().
kamu dapat menentukan jalur folder upload default dan ukuran maksimum file yang diunggah dalam pengaturan konfigurasi objek Flask.
Menentukan jalur untuk folder unggah
\begin{verbatim}
app.config [‘UPLOAD_FOLDER’] 
\end{verbatim}
Menentukan ukuran maksimum file yo diunggah - dalam byte
\begin{verbatim}
app.config [‘MAX_CONTENT_PATH’] 
\end{verbatim}
Kode berikut memiliki aturan ‘/ unggah’ yang menampilkan ‘upload.html’ dari folder template, dan aturan URL ‘/ upload-file’ yang memanggil uploader () fungsi penanganan proses upload.

Flask-Upload memungkinkan aplikasi Kamu secara fleksibel dan efisien menangani pengunggahan file dan melayani file yang diunggah. Kamu dapat membuat kumpulan unggahan yang berbeda - satu untuk lampiran dokumen, satu untuk foto, dll. - dan aplikasi dapat dikonfigurasi untuk menyimpan semuanya di tempat yang berbeda dan untuk menghasilkan URL yang berbeda untuknya.
Konfigurasi
Jika Kamu hanya menerapkan aplikasi yang menggunakan Flask-Upload, Kamu dapat menyesuaikan perilakunya secara ekstensif dari konfigurasi aplikasi. Periksa dokumentasi atau kode sumber aplikasi untuk melihat cara memuat konfigurasinya.


Dalam mengimplementasi fungsi mengunggah pada Flask akan menggunakan blueimp jQuery-File-Upload untuk mengimplementasi fitur unggah file. Unduh file yang dibutuhkan dari GitHub. Ekstrak kode sumber dan tambahkan referensi skrip dibawah ini ke addWish.html.
\begin{verbatim}
<script src="../static/js/jquery-1.11.2.js"></script>
 
<script src="../static/js/jquery.ui.widget.js"></script>
 
<script type="text/javascript" src="../static/js/jquery.fileupload.js"></script>
 
<script type="text/javascript" src="../static/js/jquery.fileupload-process.js"></script>
 
<script type="text/javascript" src="../static/js/jquery.fileupload-ui.js"></script>
\end{verbatim}

Saat addWish.html dibuka, tambahkan kode inisialisasi plugin ke klik tombol unggah.

\begin{verbatim}
$(function() {
    $('#fileupload').fileupload({
        url: 'upload',
        dataType: 'json',
        add: function(e, data) {
            data.submit();
        },
        success: function(response, status) {
            console.log(response);
        },
        error: function(error) {
            console.log(error);
        }
    });
})
\end{verbatim}


Seperti terlihat pada kode di atas, ditambahkan plugin unggah file ke tombol. Plugin unggah file mengirim file ke request handler /upload, yang akan didefinisikan dalam kode Python. Disini juga mendefinisikan sebuah fungsi add untuk mengirim data, dan kondisi success dan failure untuk menangani proses unggah yang berhasil dan gagal.




Penanganan upload file dalam Flask sangat mudah. Diperlukan formulir HTML dengan atribut enctype yang disetel ke ‘multipart / form-data’, mengeposkan file ke URL. Penangan URL menjemput file dari request.files [] objek dan menyimpannya ke lokasi yang diinginkan. Setiap file yang diunggah pertama-tama disimpan di lokasi sementara di server, sebelum benar-benar disimpan ke lokasi terakhirnya. Nama file tujuan dapat dikodekan atau dapat diperoleh dari properti nama file dari objek 

\begin{verbatim}
\end{verse}.files [file]. 
\end{verbatim}
Namun, disarankan untuk mendapatkan versi aman menggunakan fungsi 


\begin{verbatim}
secure_filename ().
\end{verbatim}


\begin{verbatim}
Kode berikut memiliki aturan ‘/ unggah’ yang menampilkan ‘upload.html’ dari folder template, dan aturan URL ‘/ upload-file’ yang memanggil uploader () fungsi penanganan proses upload.

‘Upload.html’ memiliki tombol pemilih file dan tombol kirim.

<html>
   <body>
   
      <form action = "http: // localhost: 5000 / uploader" method = "POST"
         enctype = "multipart / form-data">
         <input type = "file" name = "file" />
         <input type = "submit" />
      </ form>
      
   </ body>
</ html>

\end{verbatim}

\subsection{Upload Gambar}
Kita dapat menggunakan module flask-upload untuk melakukan upload file seperti gambar contonnya berikut contoh pengimplementasiannya
\begin{verbatim}
from flask import Flask, render_template, request
from flask.ext.uploads import UploadSet, configure_uploads, IMAGES

app = Flask(__name__)

photos = UploadSet('photos', IMAGES)

app.config['UPLOADED_PHOTOS_DEST'] = 'static/img'
configure_uploads(app, photos)

@app.route('/upload', methods=['GET', 'POST'])
def upload():
    if request.method == 'POST' and 'photo' in request.files:
        filename = photos.save(request.files['photo'])
        return filename
    return render_template('upload.html')


if __name__ == '__main__':
    app.run(debug=True)
\end{verbatim}
dan untuk file html sebahai tampilan halaman nya sebagai berikut:
\begin{verbatim}
<html>
<head>
    <title>Upload</title>
</head>
<body>
<form method=POST enctype=multipart/form-data action="{{ url_for('upload') }}">
    <input type=file name=photo>
    <input type="submit">
</form>
</body>
</html>
\end{verbatim}
Run server flasknya dan coba untuk melakukan upload file berupa gambar.


\end{document}